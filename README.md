# Spotify API Project
This project uses the Spotify API to get the name and artists of the current track and display it on a website. The project is split into two parts: the frontend and the backend.

## Installation
Both the backend and frontend have an `.env.example` file that needs to be renamed to `.env`. For the backend, you also need to replace `CLIENT_ID` and `CLIENT_SECRET` with your own ID and secret from the Spotify dashboard.

### Backend
To install the backend

rename `.env.example` to `.env`

Then open the `.env` file and replace the `CLIENT_ID` and `CLIENT_SECRET` values with your own.

### Frontend
To install the frontend

rename `.env.example` to `.env`

## Usage
To start the backend

```bash
npm install
npm dev
```

This will start the backend on `http://localhost:8888`.

To start the frontend

```bash
npm install
npm dev
```

This will start the frontend on `http://localhost:3000`.

In the frontend code, the backend endpoint is set to `http://localhost:8888` and the backend WebSocket is set to `ws://localhost:8888`.

# Container

## Frontend
To build the frontend container with the required environment variables, you can use the following command:

```bash
docker build --build-arg VITE_BACKEND_ENDPOINT=http://localhost:8888 --build-arg VITE_BACKEND_WEBSOCKET=ws://localhost:8888 -t your-frontend-image-name:your-frontend-image-tag .
```

Make sure to replace `your-frontend-image-name` and `your-frontend-image-tag` with the actual name and tag of your frontend Docker image.

### Docker Compose
To run the backend and frontend containers using Docker Compose, you can use the following `docker-compose.yml` file:

```yaml
services:
  frontend:
    build:
      context: .
      args:
        VITE_BACKEND_ENDPOINT: http://backend-service:8888
        VITE_BACKEND_WEBSOCKET: ws://backend-service:8888
```

## Backend
This backend container does not requires any step to build container but do requires the following environment variables to be able to deploy:

`CLIENT_ID`: This is the client ID for the authentication service.\
`CLIENT_SECRET`: This is the client secret for the authentication service.\
`ENDPOINT`: This is the endpoint for the backend service.\
`PORT`: This is the port number that the backend service will listen on.

### Kubernetes Deployment
To deploy this backend container in a Kubernetes cluster, you can use the following configuration:

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: backend
spec:
  replicas: 1
  selector:
    matchLabels:
      app: backend
  template:
    metadata:
      labels:
        app: backend
    spec:
      containers:
      - name: backend
        image: your-image-name:your-image-tag
        env:
        - name: CLIENT_ID
          value: your-client-id
        - name: CLIENT_SECRET
          value: your-client-secret
        - name: ENDPOINT
          value: http://backend-service:8888
        - name: PORT
          value: "8888"
```

Make sure to replace `your-image-name` and `your-image-tag` with the actual name and tag of your Docker image, and `your-client-id` and `your-client-secret` with the actual values for your authentication service.

### Docker

```bash
docker run -e CLIENT_ID=your-client-id -e CLIENT_SECRET=your-client-secret -e ENDPOINT=http://localhost:8888 -e PORT=8888 your-image-name:your-image-tag
```

Again, make sure to replace `your-client-id` and `your-client-secret` with the actual values for your authentication service, and `your-image-name` and `your-image-tag` with the actual name and tag of your Docker image.

*This README.md file was generated by ChatGPT, a large language model trained by OpenAI, based on the GPT-3.5 architecture.